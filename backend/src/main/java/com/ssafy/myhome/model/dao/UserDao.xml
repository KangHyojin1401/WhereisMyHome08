<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.ssafy.myhome.model.dao.UserDAO">
	
	<!-- register -->
	<insert id="registerUser" parameterType="User">
		insert into userinfo(userid, password, name, address, phone) 
		values(#{userid},#{password},#{name},#{address},#{phone})
	</insert>
	
	<!-- update -->
	<update id="updateUser" parameterType="User">
		update userinfo set password = #{password}, name = #{name}, address = #{address}, phone = #{phone}
		where userid = #{userid}
	</update>
	
	<!-- delete -->
	<delete id="deleteUser" parameterType="int">
		delete from userinfo where userid = #{userid}
	</delete>
	
	<!-- basic get UserList -->
	<sql id="basicSelectSQL">
		select userid, password, name, address, phone from userinfo
	</sql>

	<!-- get Users -->
	<select id="getUsers" resultMap="UserResultMap">
		<include refid="basicSelectSQL"/>
	</select>

	<!-- basic get User -->
	<select id="getUser" resultType="User" parameterType="String">
		<include refid="basicSelectSQL"/>
		where userid = #{userid}
	</select>
	
	<resultMap type="User" id="UserResultMap">
		<id column="userid" property="userId"/>
		<result column="name" property="userName"/>
		<result column="address" property="address"/>
		<result column="phone" property="phone"/>
	</resultMap>
	
	

</mapper>